{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BiblioTech - Dashboard Estudiante</title>
    <link rel="stylesheet" href="{% static 'css/home_alumnos.css' %}">
</head>
<body>
    <!-- Fondo con part√≠culas flotantes -->
    <div class="particles"></div>
    
    <!-- Formas geom√©tricas de fondo -->
    <div class="geo-shape geo-shape-1"></div>
    <div class="geo-shape geo-shape-2"></div>
    <div class="geo-shape geo-shape-3"></div>

    <!-- Encabezado -->
    <header class="header">
        <div class="nav-container">
            <div class="logo" onclick="showHome()">BiblioTech</div>
            <nav class="nav-menu" id="navMenu">
                <a href="#" class="nav-btn active" onclick="showHome()">Inicio</a>
                <a href="#" class="nav-btn" onclick="showProfile()">Perfil</a>
                <a href="#" class="nav-btn" onclick="showBooks()">Libros</a>
                <a href="#" class="nav-btn" onclick="showComments()">Comentarios</a>
            </nav>
            <div class="user-info">
                <span class="user-type">Estudiante</span>
                <a href="{% url "logout" %}" class="nav-btn logout-btn" onclick="logout()">Cerrar Sesi√≥n</a>
            </div>
        </div>
    </header>

    <!-- Contenido principal -->
    <main class="main-content">
        <!-- Secci√≥n de bienvenida -->
        <section class="welcome-section" id="homeSection">
            <h1 class="welcome-title">¬°Bienvenido a BiblioTech!</h1>
            <p class="welcome-message">Hola Estudiante, explora tu biblioteca digital personalizada</p>
            
            <div class="dashboard-grid" id="dashboardGrid">
                <div class="dashboard-card">
                    <div class="card-icon">üìñ</div>
                    <h3 class="card-title">Mis Lecturas</h3>
                    <p class="card-description">Contin√∫a leyendo tus libros favoritos y descubre tu progreso de lectura.</p>
                </div>
                <div class="dashboard-card">
                    <div class="card-icon">üîç</div>
                    <h3 class="card-title">Explorar Libros</h3>
                    <p class="card-description">Descubre nuevos t√≠tulos y g√©neros que se adapten a tus intereses.</p>
                </div>
                <div class="dashboard-card">
                    <div class="card-icon">‚≠ê</div>
                    <h3 class="card-title">Mis Rese√±as</h3>
                    <p class="card-description">Comparte tus opiniones sobre los libros que has le√≠do.</p>
                </div>
                <div class="dashboard-card">
                    <div class="card-icon">üìä</div>
                    <h3 class="card-title">Estad√≠sticas</h3>
                    <p class="card-description">Revisa tu progreso de lectura y logros obtenidos.</p>
                </div>
            </div>
        </section>

        <!-- Secci√≥n de Perfil -->
        <section class="hidden" id="profileSection">
            <div class="welcome-section">
                <h1 class="welcome-title">Mi Perfil</h1>
                <p class="welcome-message">Gestiona tu informaci√≥n personal y preferencias</p>
                 <div class="dashboard-card clickable" style="max-width: 600px; margin: 0 auto;" onclick="showStudentPopover()">
                    <div class="card-icon">üë§</div>
                    <h3 class="card-title">Informaci√≥n Personal</h3>
                    <p class="card-description">Aqu√≠ puedes actualizar tu informaci√≥n de perfil, cambiar tu contrase√±a y configurar tus preferencias de lectura.</p>
                </div>
            </div>
        </section>

        <!-- Secci√≥n de Libros -->
        <section class="hidden" id="booksSection">
            <div class="welcome-section">
                <h1 class="welcome-title">Mi Biblioteca</h1>
                <p class="welcome-message">Explora tu colecci√≥n de libros</p>
                <div class="dashboard-grid">
                    <div class="dashboard-card">
                        <div class="card-icon">üìö</div>
                        <h3 class="card-title">Mis Libros</h3>
                        <p class="card-description">Accede a todos los libros que tienes disponibles para leer.</p>
                    </div>
                    <div class="dashboard-card">
                        <div class="card-icon">üîç</div>
                        <h3 class="card-title">Buscar Libros</h3>
                        <p class="card-description">Encuentra nuevos libros por t√≠tulo, autor o categor√≠a.</p>
                    </div>
                    <div class="dashboard-card">
                        <div class="card-icon">üìñ</div>
                        <h3 class="card-title">Continuar Leyendo</h3>
                        <p class="card-description">Retoma la lectura desde donde la dejaste.</p>
                    </div>
                    <div class="dashboard-card">
                        <div class="card-icon">‚ù§Ô∏è</div>
                        <h3 class="card-title">Favoritos</h3>
                        <p class="card-description">Accede r√°pidamente a tus libros favoritos.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Secci√≥n de Comentarios -->
        <section class="hidden" id="commentsSection">
            <div class="welcome-section">
                <h1 class="welcome-title">Comentarios y Rese√±as</h1>
                <p class="welcome-message">Participa en discusiones y comparte opiniones</p>
                <div class="dashboard-grid">
                    <div class="dashboard-card">
                        <div class="card-icon">üí¨</div>
                        <h3 class="card-title">Mis Comentarios</h3>
                        <p class="card-description">Revisa todos los comentarios que has hecho sobre los libros.</p>
                    </div>
                    <div class="dashboard-card">
                        <div class="card-icon">‚≠ê</div>
                        <h3 class="card-title">Mis Rese√±as</h3>
                        <p class="card-description">Lee y escribe rese√±as de los libros que has le√≠do.</p>
                    </div>
                    <div class="dashboard-card">
                        <div class="card-icon">üó®Ô∏è</div>
                        <h3 class="card-title">Discusiones</h3>
                        <p class="card-description">Participa en foros de discusi√≥n sobre tus libros favoritos.</p>
                    </div>
                    <div class="dashboard-card">
                        <div class="card-icon">üìù</div>
                        <h3 class="card-title">Escribir Rese√±a</h3>
                        <p class="card-description">Comparte tu opini√≥n sobre un libro que acabas de leer.</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Popover para Estudiante -->
    <div class="popover-overlay" id="studentPopover">
        <div class="popover">
            <button class="close-btn" onclick="closePopover()">&times;</button>
            
            <div class="popover-header">
                <h2 class="popover-title">üë®‚Äçüéì Perfil de Estudiante</h2>
                <p class="popover-subtitle">Informaci√≥n personal y acad√©mica</p>
            </div>
            
            <div class="profile-info">
                <!-- Informaci√≥n b√°sica com√∫n -->
                <div class="info-item">
                    <span class="info-icon">üë§</span>
                    <div class="info-content">
                        <div class="info-label">Nombre Completo</div>
                        <div class="info-value" id="studentName">{{ user_name|default:"Juan Carlos P√©rez Garc√≠a" }}</div>
                    </div>
                </div>
                
                <div class="info-item">
                    <span class="info-icon">üìß</span>
                    <div class="info-content">
                        <div class="info-label">Correo Electr√≥nico</div>
                        <div class="info-value" id="studentEmail">{{ user_email|default:"juan.perez@estudiante.com" }}</div>
                    </div>
                </div>
                
                <div class="info-item">
                    <span class="info-icon">üì±</span>
                    <div class="info-content">
                        <div class="info-label">Tel√©fono</div>
                        <div class="info-value" id="studentPhone">{{ telefono|default:"+57 300 123 4567" }}</div>
                    </div>
                </div>
                
                <div class="info-item">
                    <span class="info-icon">üìù</span>
                    <div class="info-content">
                        <div class="info-label">Biograf√≠a</div>
                        <div class="info-value" id="studentBio">{{ biografia|default:"Estudiante apasionado por la lectura y el aprendizaje continuo. Me interesan especialmente los libros de ciencia ficci√≥n y tecnolog√≠a." }}</div>
                    </div>
                </div>
                
                <!-- Informaci√≥n espec√≠fica de estudiante -->
                <div class="student-specific">
                    <div class="section-title">
                        <span>üéì</span>
                        Informaci√≥n Acad√©mica
                    </div>
                    
                    <div class="info-item">
                        <span class="info-icon">üè´</span>
                        <div class="info-content">
                            <div class="info-label">Nivel Escolar</div>
                            <div class="info-value" id="studentLevel">{{ nivel_escolar|default:"Universitario" }}</div>
                        </div>
                    </div>
                    
                    <div class="info-item">
                        <span class="info-icon">üÜî</span>
                        <div class="info-content">
                            <div class="info-label">DNI</div>
                            <div class="info-value" id="studentDNI">{{ dni|default:"12345678" }}</div>
                        </div>
                    </div>
                    
                    <div class="info-item">
                        <span class="info-icon">ü©∫</span>
                        <div class="info-content">
                            <div class="info-label">Enfermedades</div>
                            <div class="info-value" id="studentDiseases">{{ enfermedades|default:"Ninguna registrada" }}</div>
                        </div>
                    </div>
                    
                    <div class="info-item">
                        <span class="info-icon">ü§ß</span>
                        <div class="info-content">
                            <div class="info-label">Alergias</div>
                            <div class="info-value" id="studentAllergies">{{ alergias|default:"Ninguna registrada" }}</div>
                        </div>
                    </div>
                    
                    <div class="info-item">
                        <span class="info-icon">ü©∏</span>
                        <div class="info-content">
                            <div class="info-label">Tipo de Sangre</div>
                            <div class="info-value" id="studentBloodType">{{ tipo_sangre|default:"O+" }}</div>
                        </div>
                    </div>
                    
                    <div class="info-item">
                        <span class="info-icon">üë®‚Äç‚öñÔ∏è</span>
                        <div class="info-content">
                            <div class="info-label">Tutor Legal</div>
                            <div class="info-value" id="studentTutor">{{ tutor_legal|default:"Mar√≠a Garc√≠a L√≥pez" }}</div>
                        </div>
                    </div>
                    
                    <div class="info-item">
                        <span class="info-icon">üö®</span>
                        <div class="info-content">
                            <div class="info-label">Tel√©fono de Emergencia</div>
                            <div class="info-value" id="emergencyPhone">{{ telefono_emergencias|default:"+57 301 987 6543" }}</div>
                        </div>
                    </div>
                    
                    <div class="info-item">
                        <span class="info-icon">‚öïÔ∏è</span>
                        <div class="info-content">
                            <div class="info-label">M√©dico de Cabecera</div>
                            <div class="info-value" id="studentDoctor">{{ medico_cabecera|default:"Dr. Pedro Mart√≠nez" }}</div>
                        </div>
                    </div>
                    
                    <div class="info-item">
                        <span class="info-icon">üè•</span>
                        <div class="info-content">
                            <div class="info-label">Centro M√©dico</div>
                            <div class="info-value" id="medicalCenter">{{ centro_medico|default:"Hospital San Juan" }}</div>
                        </div>
                    </div>
                    
                    <div class="info-item">
                        <span class="info-icon">üë•</span>
                        <div class="info-content">
                            <div class="info-label">N√∫mero de Hermanos</div>
                            <div class="info-value" id="studentSiblings">{{ numero_hermanos|default:"2" }}</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="{% static 'js/home_alumnos.js' %}"></script>
</body>
</html>